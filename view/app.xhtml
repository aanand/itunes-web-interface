<html>

<head>
    <title>#{title}</title>
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.4.1/build/reset/reset-min.css"> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.4.1/build/fonts/fonts-min.css"> 
    <link rel="stylesheet" href="/css/base.css" type="text/css" />

    <script src="/js/jquery.js" type="text/javascript"></script>
    <script src="/js/jquery.dimensions.js" type="text/javascript"></script>
    <script src="/js/jquery.gradient.js" type="text/javascript"></script>
    <script src="/js/jquery.contextmenu.js" type="text/javascript"></script>
    <script src="/js/base.js" type="text/javascript"></script>
</head>

<body>
    <div id="sources">
        <ul>
            <?r Itunes.get.sources.values.sort.each do |source|
                li_class = (@source == source and !@playlist) ? 'selected' : ''
            ?>
                <li class="#{li_class}">
                    <p>#{A source.name, :href => R(SourceController, :list, source.id2)}</p>

                    <ul>
                        <?r source.playlists.values.sort.each do |playlist|
                            li_class = (@playlist == playlist) ? 'selected' : ''
                        ?>
                            <li class="#{li_class}">
                                #{A playlist.name, :href => R(PlaylistController, :list, source.id2, playlist.id2)}
                            </li>
                        <?r end ?>
                    </ul>
                </li>
            <?r end ?>
        </ul>
    </div>

    <div id="content">
        #@content
    </div>
</body>

</html>
